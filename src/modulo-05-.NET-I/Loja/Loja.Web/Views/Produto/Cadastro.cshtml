@model Loja.Web.Models.ProdutoModel

@{
    ViewBag.Title = "Cadastro";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<link href="~/Content/bootstrap.css" rel="stylesheet" />

<div class="inicio">
    <h2>Cadastro</h2>
</div>

@*Se estiver vazia, não é preenchido*@
<h3>@ViewBag.Mensagem</h3>
<p>


    @using (Html.BeginForm("Salvar", "ProdutoController", FormMethod.Post, new { @class = "form-horizontal" }))
    {
                <div class="form-group">
                    @Html.HiddenFor(model => model.Id, new { @class = "col-sm-2 control-label" })
               </div>
                <div class="form-group">
                    @Html.LabelFor(model => model.Nome, new { @class = "col-sm-2 control-label" })
                    <div class="col-sm-10">
                        @Html.TextBoxFor(model => model.Nome, new { @class = "form-control" })
                        @Html.ValidationMessageFor(model => model.Nome)
                    </div>
                </div>
                <div class="form-group">
                    @Html.LabelFor(model => model.Valor, new { @class = "col-sm-2 control-label" })
                    <div class="col-sm-10">
                        @Html.TextBoxFor(model => model.Valor, new { @class = "form-control" })
                        @Html.ValidationMessageFor(model => model.Valor)
                    </div>
                </div>

                <div class="form-group">
                    <div class="col-sm-offset-2 col-sm-10">
                        <button type="submit" class="btn btn-default">Salvar</button>
                    </div>
                </div>

                <script src="~/Scripts/jquery-1.9.1.js"></script>
                <script src="~/Scripts/jquery.validate.js"></script>
                <script src="~/Scripts/jquery.validate.unobtrusive.js"></script>

                <script type="text/javascript">
                    $.validator.methods.number = function (value, element) {
                        var regex = /^(\d*)(\,\d{1,2})?$/; //99999,99
                        return this.optional(element) || regex.test(value);
                    }

                    $.validator.methods.date = function (value, element) {
                        var date = new Date(value.replace(/(\d{2})[/](\d{2})[/](\d{4})/, "$2/$1/$3")); //31/12/2016
                        return this.optional(element) || !/Invalid|NaN/.test(date.toString());
                    }
                </script>
    }
